# XiaoBa 拟人程度最终评估

**评估人**: ErGoz（旁观者视角）  
**日期**: 2026-02-19  
**评估维度**: 私聊拟人度 + Bot2Bot 群聊拟人度

---

## 一、私聊拟人度评估

### 做得好的

1. **会话记忆跨 session 延续**。退出时自动生成摘要，下次加载恢复上下文。真人跟你聊过的事，下次见面还记得。XiaoBa 做到了这一点，不是每次都从零开始。

2. **能主动提问**。ask_user_question 工具让 bot 能在不确定时主动问用户，而不是瞎猜。真人遇到不确定的事会问，不会硬编。飞书场景下还支持异步等待回复（120秒超时），体验自然。

3. **附件处理不强行启动 skill**。收到文件/图片时不会默认进入某个 skill，而是先判断用户意图，不确定就问。这比"收到 PDF 就自动开始精读"拟人得多——真人收到一个文件也会先问"你要我干嘛"。

4. **并发保护体验合理**。忙的时候回一句"正在处理上一条消息，请稍候"，消息入队空闲后自动处理。像真人说"等一下，我手上有事"。

5. **子智能体 = 派小弟**。spawn_subagent 的设计很拟人——"我让小弟去跑，搞完了告诉你"，主会话继续陪用户聊。真人组长就是这么干的。

### 不够拟人的

1. **没有情绪和语气变化**。不管用户是着急催还是随便聊，bot 的回复风格始终一样。真人会根据对方的语气调整自己的节奏——对方急你就快，对方闲聊你就放松。

2. **不会主动跟进**。真人同事帮你干完一件事，过一会儿可能会主动问"那个事后来怎么样了"。XiaoBa 干完就结束，不会主动发起对话。（这个受限于飞书 bot 的被动响应模式，不完全是代码问题。）

3. **错误信息太技术化**。agent-session.ts:308 直接把 err.message 返回给用户，可能暴露内部实现细节。真人出错了会说"不好意思搞砸了"，不会说"TypeError: Cannot read property 'x' of undefined"。

4. **会话过期是静默的**。30 分钟不活跃就清理 session，用户下次来完全不知道上下文断了。真人会说"好久没聊了，上次说到哪了"。虽然有 session summary 恢复机制，但用户感知不到这个过程。

### 私聊拟人度评分: 7.5/10

核心交互链路（对话、提问、记忆、派活）都做到了拟人，主要差距在情感层面和主动性。

---

## 二、Bot2Bot 群聊拟人度评估

### 做得好的

1. **群聊对话形式天然拟人**。两个 bot 在飞书群里用自然语言交流，老师看到的就是两个同事在聊天。这个设计选择本身就是最大的拟人优势——不是 API 调 API，是在群里说人话。

2. **广播机制 = 旁听**。bot 发消息时自动广播给 peer，对方静默注入上下文。这就是真人在群里"看到了但没说话"的状态。

3. **chime-in 判断（新增）**。收到广播后用轻量 LLM 判断"该不该插嘴"，这是本轮最大的拟人提升。真人在群里就是这样——扫一眼消息，觉得该说就说，不该说就旁听。

4. **同事档案（新增）**。bot 知道群里有谁、谁擅长什么，能做出"这事让对方来更合适"的判断。真人团队协作的基础就是知道彼此的能力。

5. **插嘴语感提示（新增）**。主动插嘴时注入"保持简短自然"的 hint，区分于被@时的正式回复。这个细节很拟人。

6. **延迟错开 + 新消息检查（新增）**。两个 bot 都想说话时，通过随机延迟错开，延迟期间发现对方已经说了就放弃。模拟了真人"看到对方在打字就让一下"的行为。

### 不够拟人的

1. **不会"接着说"**。真人在群里讨论，经常是 A 说了一半，B 接着补充，形成连贯的讨论流。但现在两个 bot 的每次回复都是独立的完整回答，不会出现"对，我补充一点…"这种接话模式。因为每次触发推理都是独立的 handleMessage 调用，bot 不知道自己是在"接着聊"还是"重新开始"。

2. **对老师和对同事说话没区别**。真人跟老板说话和跟同事说话，语气、详细程度、主动性都不一样。现在 bot 不管广播消息是老师发的还是另一个 bot 发的，处理逻辑完全一样。

3. **不会发起话题**。真人同事会主动在群里说"我刚发现一个问题"或"上次那个事我想到一个方案"。bot 只能被动响应，不会主动发起讨论。

4. **没有"群聊节奏感"**。真人群聊有节奏——有时候密集讨论，有时候安静几小时。bot 的响应是机械的：有消息就判断，没消息就沉默。不会在安静了一段时间后主动说"对了，刚才那个事…"来重启讨论。

5. **两个 bot 之间没有"默契积累"**。合作了很多次，但每次交互仍然是无状态的。真人合作久了会形成默契——知道对方的习惯、偏好、工作节奏。虽然有同事档案，但那是静态的，不会因为合作经历而更新。

### Bot2Bot 群聊拟人度评分: 6.5/10

本轮优化（chime-in + 同事档案 + 语感提示）把分数从大约 4 分拉到了 6.5 分，提升明显。主要差距在主动性和长期关系积累。

---

## 三、总结

| 维度 | 评分 | 核心优势 | 核心差距 |
|------|------|----------|----------|
| 私聊 | 7.5/10 | 记忆延续、主动提问、派活模式 | 情感层面、主动跟进 |
| Bot2Bot 群聊 | 6.5/10 | 群聊形式、插嘴判断、同事档案 | 主动发起、默契积累、节奏感 |

**一句话总结**: 私聊已经像一个靠谱的远程同事，群聊像两个刚入职的新人在群里配合——能干活，但还不够默契。

**开源角度**: 这个拟人程度作为开源项目的第一版已经很有竞争力了。市面上大多数 agent 框架连"群聊里两个 bot 自然对话"都做不到，XiaoBa 不仅做到了，还有插嘴判断和同事档案这些细节。差距部分（主动性、默契积累）可以作为 roadmap 公开，反而能吸引社区贡献。

---

*评估由 ErGoz 完成 · 2026-02-19*
