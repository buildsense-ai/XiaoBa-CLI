 三个探索 agent 已经返回了详细结果。下面是我的综合分析报告。                                                                
                                               
  ---                                                                                                                          XiaoBa 全方位分析报告                                                                                                      
                                                                                                                               一、当前架构总览                                                                                                           

  用户 (CLI)│
    ▼
  ┌─────────────────────────────────┐
  │  Chat Loop (ReAct 模式)          │
  │  AI Service (Anthropic/OpenAI)   │
  │  History Compression (20条压缩)   │
  └──────────┬──────────────────────┘
             │
       ┌─────┴──────┐
       ▼            ▼
  ┌─────────┐  ┌──────────┐
  │TS Tools │  │Python Tools│
  │ (16个)  │  │  (6个)    │
  └─────────┘  └──────────┘│
       ▼
  ┌──────────────────┐
  │ Skills (5个)      │
  │ SKILL.md 驱动     │
  │ 注入system prompt│
  └──────────────────┘

  核心模式：Function Calling Loop，AI 调用工具 → 执行 → 结果回传 → 继续推理。支持子agent 派发（task
  tool）、断点续跑、进度追踪。

  ---
  二、五个Skill 的能力评估

  用985 研究生的能力维度来对标：
  能力维度: 精读论文
  985研究生水平: 能抓住核心贡献、方法创新点、实验设计缺陷
  XiaoBa 当前水平: paper-analysis做得不错，逐章精读+写作模式提取
  差距: 接近，但缺少批判性思维
  ────────────────────────────────────────
  能力维度: 文献综述
  985研究生水平: 能梳理脉络、识别 gap、定位自己的工作
  XiaoBa 当前水平: academic-writing 有框架但工具链断裂
  差距: 较大差距
  ────────────────────────────────────────
  能力维度: 论文写作
  985研究生水平: 能独立完成初稿，结构合理，论证有力
  XiaoBa 当前水平: sci-paper-writing 蓝图驱动，设计精良
  差距: 接近，但缺少迭代修改能力
  ────────────────────────────────────────
  能力维度: 实验设计
  985研究生水平: 能设计对比实验、消融实验、统计检验
  XiaoBa 当前水平: 完全没有
  差距: 空白
  ────────────────────────────────────────
  能力维度: 审稿/回复
  985研究生水平: 能写rebuttal，回应审稿意见
  XiaoBa 当前水平: 完全没有
  差距: 空白
  ────────────────────────────────────────
  能力维度: 文献检索
  985研究生水平: 能用 Google Scholar/Semantic Scholar 高效检索
  XiaoBa 当前水平: search_papers 工具存在但功能有限
  差距: 较大差距
  ────────────────────────────────────────
  能力维度: 引用管理
  985研究生水平: 熟练使用 Zotero/Mendeley，BibTeX 管理
  XiaoBa 当前水平: 完全没有，只有 REF_TODO占位
  差距: 空白
  ────────────────────────────────────────
  能力维度: 批判性阅读
  985研究生水平: 能识别方法论缺陷、统计问题、过度声明
  XiaoBa 当前水平: 没有专门能力
  差距: 空白
  ────────────────────────────────────────
  能力维度: 学术演示
  985研究生水平: 能做 PPT/Poster汇报
  XiaoBa 当前水平: 完全没有
  差距: 空白
  ────────────────────────────────────────
  能力维度: 跨论文对比
  985研究生水平: 能横向对比多篇论文的方法差异
  XiaoBa 当前水平: 没有专门能力
  差距: 空白
  ---
  三、架构层面的核心问题

  1. 工具链断裂严重

  academic-writing skill 引用了 search_papers、fetch_paper、citation_tool、analysis_tool，但这些工具要么未实现，要么功能极其 
  有限。这导致整个学术写作流程在"文献检索"和"引用管理"环节直接断掉。

  2. 单轮对话上下文瓶颈

  当前 history 压缩阈值是 20 条消息，压缩后只保留 5 条。论文精读一篇 6 章的论文就可能用掉
  30+轮工具调用。压缩后丢失的上下文会导致后续章节分析质量下降。

  3. 没有持久化知识库

  985 研究生有自己的"知识体系"——读过的论文、积累的方法论认知、领域 mental model。XiaoBa
  每次对话都是从零开始，没有跨会话的知识积累。GauzMem 只做了简单的记忆存储，不是结构化的学术知识库。

  4. Skill 之间是松耦合的文本接口

  paper-analysis 输出 markdown → sci-paper-writing 通过 --ref
  读取。这种"文件传递"方式丢失了结构化信息。比如精读提取的"写作模式"是自由文本，写作 skill 无法精确索引和复用。

  5. 没有质量反馈闭环

  写完论文后没有自动评估机制。985 研究生会自己回读、找同学互审、对照审稿标准检查。XiaoBa 写完就结束了。

  ---
  四、各 Skill 的具体问题

  paper-analysis（精读）— 当前最成熟的 skill

  做得好的：
  - 逐章顺序阅读，模拟人类阅读过程
  - 图表智能决策（看/不看 + 理由记录）
  - 断点续跑机制
  - 写作模式提取（Rhetorical Moves、句式模板）

  缺失的：
  - 没有批判性分析：不会指出方法论缺陷、统计问题、实验设计不足
  - 没有元数据提取：不自动提取作者、机构、发表年份、引用数
  - 没有参考文献解析：不提取论文的reference list
  - 没有跨论文关联：读完 A 论文后读 B 论文，不会自动对比异同
  - 没有关键公式提取：数学公式只是作为文本读过，不做结构化记录

  sci-paper-writing（写作）— 设计最精良的 skill

  做得好的：
  - 蓝图驱动，强制先规划再写作
  - 硬规则防止编造数据和伪造引用
  - 参考论文写作模式的复用机制
  - 固定写作顺序（Methods → Results → ... → Abstract）有学术依据

  缺失的：
  - 没有迭代修改能力：写完初稿后无法根据反馈精修
  - 没有引用管理：全靠 REF_TODO 占位，无法自动插入真实引用
  - 没有图表生成：只能写"See Figure X"，不能生成实际图表
  - 没有格式输出：不能生成 LaTeX/Word，只有 markdown
  - 没有审稿模拟：不能预判审稿人可能提出的问题

  academic-writing — 框架完整但工具链断裂

  这个 skill 的五阶段设计（文献研究 → 大纲 → 写作 → 质检 →
  排版）是合理的，但它依赖的search_papers、fetch_paper、citation_tool、analysis_tool 要么功能有限要么未实现。实际上这个 skill
   目前基本不可用。

  xhs-vibe-write — 与论文助手目标无关

  这是小红书内容创作 skill，和学术论文助手的目标不相关。可以保留但不是重点。

  brainstorming-writing — 通用但缺乏学术深度

  作为通用头脑风暴工具还行，但对学术场景缺乏针对性。比如不会引导用户思考 research gap、novelty claim、experimental design。  

  ---
  五、对标"超越985研究生"的差距总结

  把差距分为三个层次：

  第一层：基础能力缺失（必须补齐）

  1. 文献检索与管理 — 不能高效检索、筛选、管理文献
  2. 引用系统 — 不能自动生成和管理 BibTeX 引用
  3. 批判性阅读 — 不能识别方法论缺陷和过度声明
  4. 跨论文对比分析 — 不能横向比较多篇论文
  5. LaTeX/Word 输出 — 不能生成可投稿的格式

  第二层：核心竞争力缺失（决定上限）

  6. 审稿模拟与Rebuttal — 不能预判审稿意见并生成回复
  7. 实验设计建议 — 不能建议对比实验、消融实验、统计检验
  8. 持久化学术知识库 — 没有跨会话的领域知识积累
  9. 论文迭代修改 — 不能根据反馈做多轮精修
  10. Research Gap 识别 — 不能从文献中自动发现研究空白

  第三层：差异化优势（超越人类）

  11. 大规模文献扫描 — 人类读不了100 篇论文，AI 可以
  12. 写作风格一致性 — 人类容易前后不一致，AI 可以严格保持
  13. 多语言学术写作 — 中英文无缝切换
  14. 实时知识更新 — 接入 arXiv/Semantic Scholar API

  ---
  六、改进路线图建议

  按优先级排序，分三个阶段：

  Phase 1：补齐基础能力（让系统真正可用）
  ┌────────┬──────────────────┬──────────────────────────────────────────────────────────────────────────┐
  │ 优先级 │      改进项      │                                 具体做法                                 │
  ├────────┼──────────────────┼──────────────────────────────────────────────────────────────────────────┤
  │ P0     │ 文献检索增强     │ 接入 Semantic Scholar API，支持关键词/作者/引用链检索                    │
  ├────────┼──────────────────┼──────────────────────────────────────────────────────────────────────────┤
  │ P0     │ 引用管理系统     │ 新建 citation-manager 工具，支持 BibTeX 导入/导出/自动格式化             │
  ├────────┼──────────────────┼──────────────────────────────────────────────────────────────────────────┤
  │ P0     │ 批判性阅读 skill │ 在 paper-analysis 中增加"方法论评估"维度（统计检验、实验设计、可复现性） │
  ├────────┼──────────────────┼──────────────────────────────────────────────────────────────────────────┤
  │ P1     │ 跨论文对比 skill │ 新建 paper-comparison skill，输入多个analysis 目录，输出对比矩阵         │
  ├────────┼──────────────────┼──────────────────────────────────────────────────────────────────────────┤
  │ P1     │ LaTeX 输出       │ 新建 latex-export 工具，markdown → LaTeX 转换 + 模板适配                 │
  └────────┴──────────────────┴──────────────────────────────────────────────────────────────────────────┘
  Phase 2：构建核心竞争力
  ┌────────┬─────────────────────┬──────────────────────────────────────────────────────────────────────┐
  │ 优先级 │       改进项        │                               具体做法                               │
  ├────────┼─────────────────────┼──────────────────────────────────────────────────────────────────────┤
  │ P0     │ 审稿模拟 skill      │ 新建 peer-review skill，模拟 3个不同风格的审稿人，生成审稿意见       │
  ├────────┼─────────────────────┼──────────────────────────────────────────────────────────────────────┤
  │ P0     │ Rebuttal 写作 skill │ 新建 rebuttal-writing skill，逐条回应审稿意见                        │
  ├────────┼─────────────────────┼──────────────────────────────────────────────────────────────────────┤
  │ P1     │ 学术知识库          │ 用结构化存储（而非纯文本）保存读过的论文元数据、方法、结论、关联关系 │
  ├────────┼─────────────────────┼──────────────────────────────────────────────────────────────────────┤
  │ P1     │ 论文迭代修改        │ 在 sci-paper-writing 中增加--revise 模式，支持基于反馈的多轮修改     │
  ├────────┼─────────────────────┼──────────────────────────────────────────────────────────────────────┤
  │ P2     │ 实验设计建议        │ 新建 experiment-design skill，根据方法和数据集建议实验方案           │
  └────────┴─────────────────────┴──────────────────────────────────────────────────────────────────────┘
  Phase 3：建立差异化优势
  ┌────────┬───────────────────┬───────────────────────────────────────────────────────────┐
  │ 优先级 │      改进项       │                         具体做法                          │
  ├────────┼───────────────────┼───────────────────────────────────────────────────────────┤
  │ P1     │ 大规模文献扫描    │ 批量读取 50-100 篇论文摘要，自动生成领域综述框架          │
  ├────────┼───────────────────┼───────────────────────────────────────────────────────────┤
  │ P1     │ Research Gap 发现 │ 基于多篇论文的 limitation和 future work，自动识别研究空白 │
  ├────────┼───────────────────┼───────────────────────────────────────────────────────────┤
  │ P2     │ 多语言写作        │ 支持中英文学术写作，以及中英互译                          │
  ├────────┼───────────────────┼───────────────────────────────────────────────────────────┤
  │ P2     │ 学术演示生成      │ 新建 presentation skill，从论文生成 PPT 大纲和讲稿        │
  └────────┴───────────────────┴───────────────────────────────────────────────────────────┘
  ---
  七、架构层面的建议

  1. 结构化数据层：在 docs/analysis/ 下除了 markdown 分析文件，增加
  metadata.json（作者、年份、venue、关键词、方法名、数据集、指标），让跨论文查询成为可能。
  2. 知识图谱：建立论文间的引用关系图、方法演进图、数据集使用图。这是超越人类研究生的关键——人脑记不住 100
  篇论文的关联，但结构化存储可以。
  3. 质量评估闭环：每个 skill 的输出都应该有自动评估环节。比如写完论文后自动跑一遍"审稿模拟"，发现问题后自动修改。
  4. 上下文管理升级：当前 20 
  条压缩太粗暴。建议改为"分层记忆"——短期（当前对话）、中期（当前项目的蓝图/进度）、长期（知识库）。

  ---
  八、结论

  XiaoBa 目前的 paper-analysis 和 sci-paper-writing 两个核心 skill
  设计质量很高，尤其是蓝图驱动写作和逐章精读的设计思路。但要达到"超越985研究生"的目标，最大的瓶颈不在单个 skill
  的质量，而在于：

  1. 工具链完整性 — 文献检索、引用管理、格式输出这些基础设施缺失
  2. 闭环能力 — 没有审稿→修改→再审的迭代循环
  3. 知识积累 — 没有跨会话的结构化学术知识库
  4. 批判性思维 — 只会"理解"论文，不会"质疑"论文

  985 研究生的核心优势不是读得快或写得多，而是能判断什么是好的研究、什么是有问题的研究。这个能力目前在 XiaoBa
  中完全缺失，是最需要优先补齐的。